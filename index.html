<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
  <meta name="theme-color" content="#4F46E5"/>
  <title>ุงูููุชุจุฉ ุงูุชูุงุนููุฉ ุงูุฐููุฉ โ ูุชุจ ุงูุฌูุจ</title>
  <link rel="manifest" href="manifest.webmanifest">
  <link rel="icon" href="icons/icon-192.png">
  <link rel="stylesheet" href="app.css">
<link rel="icon" type="image/png" sizes="32x32" href="icons/icon-32.png">
<link rel="icon" type="image/png" sizes="16x16" href="icons/icon-16.png">
<link rel="apple-touch-icon" href="icons/icon-180.png">
<meta name="theme-color" content="#2F7F79">

<link rel="icon" href="icons/favicon.ico" sizes="any">
<link rel="icon" type="image/svg+xml" href="icons/favicon.svg">
<link rel="apple-touch-icon" href="icons/icon-180.png">
<meta name="theme-color" content="#2F7F79">
</head>
<body>
  <noscript>ูุฐุง ุงูุชุทุจูู ูุญุชุงุฌ ุชูุนูู JavaScript.</noscript>

  <div class="app" id="app">
    <div class="header">
      <div class="brand">๐ ุงูููุชุจุฉ ุงูุฐููุฉ</div>
      <div class="spacer"></div>
      <button class="iconbtn" id="themeBtn" title="ุชุจุฏูู ุงูููุท">๐</button>
      <button class="iconbtn" title="ุฅุดุนุงุฑุงุช">๐</button>
    </div>

    <div class="search">๐ <input id="searchInput" placeholder="ุงุจุญุซ ุนู ูุชุงุจ ุฃู ูุงุชุจ" /></div>

    <div class="views">
      <section class="view active" id="view-home">
        <div class="grid" id="homeCats"></div>
        <div id="continueBlock" style="display:none">
          <div class="kicker">ููุงุตูุฉ ุงููุฑุงุกุฉ</div>
          <div id="continueList" class="vstack"></div>
        </div>
        <div class="kicker">ุฃุญุฏุซ ุงูุฅุตุฏุงุฑุงุช</div>
        <div class="scroll-row" id="latestRow"></div>
      </section>

      <section class="view" id="view-sections">
        <div class="kicker">ุงูุฃูุณุงู</div>
        <div class="grid" id="sectionsGrid"></div>
      </section>

      <section class="view" id="view-category">
        <div class="sectionHead">
          <button class="iconbtn back" data-action="back">โ</button>
          <div class="brand" id="catTitle">ุงููุณู</div>
        </div>
        <div class="filterChips" id="catFilters"></div>
        <div id="catList"></div>
      </section>

      <section class="view" id="view-book">
        <div class="sectionHead">
          <button class="iconbtn back" data-action="back">โ</button>
          <div class="brand" id="bookTitleTop">ุงููุชุงุจ</div>
        </div>
        <div id="bookDetail"></div>
      </section>

      <section class="view" id="view-reader">
        <div class="sectionHead">
          <button class="iconbtn back" data-action="back">โ</button>
          <div class="brand" id="readTitle">ุงููุงุฑุฆ</div>
        </div>
        <div class="reader" id="readerBox"></div>
      </section>

      <section class="view" id="view-done">
        <div class="sectionHead">
          <button class="iconbtn back" data-action="back">โ</button>
          <div class="brand">ุฃุญุณูุช! โ</div>
        </div>
        <div id="completionBox"></div>
      </section>

      <section class="view" id="view-library">
        <div class="kicker">ููุชุจุชู</div>
        <div class="kicker" style="margin-top:6px;font-size:14px;color:var(--muted)">ุงูููุงุฆู</div>
        <div id="libLists"></div>
        <div class="divider"></div>
        <div class="kicker">ููุงุญุธุงุชู</div>
        <div id="notesAll"></div>
      </section>

      <section class="view" id="view-profile">
        <div class="hstack">
          <div class="avatar">ุฃ</div>
          <div>
            <div style="font-weight:800">ูููู</div>
            <div style="color:var(--muted);font-size:13px">ูุฑุญุจูุง ุจุนูุฏุชู ๐</div>
          </div>
        </div>
        <div class="statCards">
          <div class="statCard"><div>๐ ุงููุชุจ ุงูููุฑูุกุฉ</div><div style="font-size:22px;font-weight:800" id="statBooks">0</div></div>
          <div class="statCard"><div>โฑ๏ธ ุณุงุนุงุช ุงููุฑุงุกุฉ</div><div style="font-size:22px;font-weight:800" id="statHours">0</div></div>
        </div>
        <div class="kicker">ุงูุชุตูููุงุช ุงูุฃูุซุฑ ูุฑุงุกุฉ</div>
        <div id="topCats" class="chips"></div>
        <div class="kicker">ุงูุฅูุฌุงุฒุงุช</div>
        <div class="achv" id="achievements"></div>

        <div class="kicker">ุฅุฏุงุฑุฉ</div>
        <div class="hstack" style="gap:10px;flex-wrap:wrap">
          <button class="btn primary" id="manageBtn">๐๏ธ ุฅุฏุงุฑุฉ ุงููุชุจ</button>
          <button class="btn" id="exportBtn">โฌ๏ธ ุชุตุฏูุฑ ูุงุนุฏุฉ ุงูุจูุงูุงุช</button>
          <button class="btn" id="importBtn">โฌ๏ธ ุงุณุชูุฑุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช</button>
          <input type="file" id="importFile" accept="application/json" style="display:none"/>
          <button class="btn danger" id="resetBtn">ุฅุนุงุฏุฉ ุถุจุท ุงูุชุทุจูู</button>
        </div>
      </section>

      <section class="view" id="view-admin">
        <div class="sectionHead">
          <button class="iconbtn back" data-action="back">โ</button>
          <div class="brand">ุฅุฏุงุฑุฉ ุงููุชุจ</div>
        </div>
        <div class="form">
          <div class="field"><input type="text" id="adminSearch" placeholder="ุงุจุญุซ ุฏุงุฎู ุฅุฏุงุฑุฉ ุงููุชุจ"/></div>
          <div class="hstack" style="gap:8px;flex-wrap:wrap;margin-bottom:8px">
            <button class="btn primary" id="addBookBtn">โ ุฅุถุงูุฉ ูุชุงุจ</button>
            <button class="btn" id="exportBooksBtn">๐ฆ ุชุตุฏูุฑ ุฌููุน ุงููุชุจ (JSON)</button>
            <button class="btn" id="importBooksBtn">๐ฅ ุงุณุชูุฑุงุฏ ูุชุจ (JSON)</button>
            <input type="file" id="importBooksFile" accept="application/json" style="display:none"/>
          </div>
        </div>
        <div id="adminList"></div>
      </section>

      <section class="view" id="view-editor">
        <div class="sectionHead">
          <button class="iconbtn back" data-action="back">โ</button>
          <div class="brand" id="editorTitle">ูุญุฑูุฑ ุงููุชุงุจ</div>
        </div>
        <div class="form" id="bookForm">
          <div class="field"><label>ุงููุนุฑูู (ุซุงุจุช)</label><input type="text" id="f-id" readonly/></div>
          <div class="field"><label>ุงูุนููุงู</label><input type="text" id="f-title" required/></div>
          <div class="field"><label>ุงููุคูู</label><input type="text" id="f-author" required/></div>
          <div class="field">
            <label>ุงูุชุตููู</label>
            <input list="catsList" id="f-category" placeholder="ุงูุชุจ ุชุตููููุง ุฃู ุงุฎุชุฑ"/>
            <datalist id="catsList"></datalist>
          </div>
          <div class="field"><label>ุงููุบุฉ</label><select id="f-lang"><option value="ar">ุงูุนุฑุจูุฉ</option><option value="en">English</option></select></div>
          <div class="field"><label>ุงููุฏุฉ ุงูุชูุฑูุจูุฉ (ุฏูุงุฆู)</label><input type="number" id="f-duration" min="1" step="1"/></div>
          <div class="field"><label>ุนุฏุฏ ุงูุตูุญุงุช</label><input type="number" id="f-pages" min="1" step="1"/></div>
          <div class="field"><label>ูุณูู (ุงูุตู ุจููุงุตู)</label><input type="text" id="f-tags" placeholder="ููุณูุฉ, ูุตุฉ, ููุชุน"/></div>
          <div class="field"><label>ุฑุงุจุท ุบูุงู (ุงุฎุชูุงุฑู)</label><input type="url" id="f-cover" placeholder="https://.../cover.jpg"/></div>
          <div class="field"><label>ุงูููุฎูุต</label><textarea id="f-summary"></textarea></div>
          <div class="field"><label>ุงูุชุจุงุณ ุจุงุฑุฒ</label><input type="text" id="f-quote" placeholder="ุฌููุฉ ูุตูุฑุฉ ูุงูุชุฉ"/></div>
          <div class="field"><label>ูุญุชูู ุงููุงุฑุฆ (ุงุฎุชูุงุฑู)</label><textarea id="f-content" placeholder="ูุต ูุฎุชุตุฑ ูููุฑุงุกุฉ ุฏุงุฎู ุงูุชุทุจูู..."></textarea></div>
          <div class="field"><label>ูุฏุฉ ุงูููุฎูุต ุงูุตูุชู (ุซูุงููุ ุงุฎุชูุงุฑู)</label><input type="number" id="f-audiolen" min="60" step="30" placeholder="300 = ุฎูุณ ุฏูุงุฆู"/></div>
          <div class="hstack" style="gap:8px;flex-wrap:wrap">
            <button class="btn primary" id="saveBookBtn">๐พ ุญูุธ</button>
            <button class="btn" id="cancelEditBtn">ุฑุฌูุน</button>
            <button class="btn danger" id="deleteBookBtn" style="display:none">๐๏ธ ุญุฐู</button>
            <button class="btn" id="exportOneBtn" style="display:none">โ๏ธ ุชุตุฏูุฑ ูุฐุง ุงููุชุงุจ</button>
          </div>
        </div>
      </section>
    </div>

    <nav class="tabs">
      <div class="tab active" data-tab="home">๐ ุงูุฑุฆูุณูุฉ</div>
      <div class="tab" data-tab="sections">๐๏ธ ุงูุฃูุณุงู</div>
      <div class="tab" data-tab="library">๐ ููุชุจุชู</div>
      <div class="tab" data-tab="profile">๐ค ูููู</div>
    </nav>
  </div>

  <div class="sheet" id="audioSheet">
    <div class="backdrop" data-action="close-sheet"></div>
    <div class="panel">
      <div class="grab"></div>
      <div class="hstack" style="justify-content:space-between">
        <div style="font-weight:800" id="audioTitle">ุงูููุฎุต ุงูุตูุชู</div>
        <button class="iconbtn" data-action="close-sheet">โ</button>
      </div>
      <div style="margin:10px 0;color:var(--muted)">ููุฎูุต ุตูุชู ุชุฌุฑูุจู (ูุคููุช ููุท)</div>
      <div class="progressBar"><div id="audioProg" style="width:0%"></div></div>
      <div class="hstack" style="justify-content:space-between;margin:8px 0">
        <div id="audioTime">00:00 / 05:00</div>
        <div class="chips"><div class="chip" id="audioSpeed">1x</div></div>
      </div>
      <div class="hstack" style="gap:8px">
        <button class="btn primary" id="audioPlay">โถ ุชุดุบูู</button>
        <button class="btn" id="audioPause">โธ๏ธ ุฅููุงู ูุคูุช</button>
        <button class="btn" id="audioReset">โบ ุฅุนุงุฏุฉ</button>
      </div>
    </div>
  </div>

  <script src="app.js" defer></script>
</body>
</html>